<div id="googleMap" class="col-xs-12 col-sm-8">
</div>

<div id="buttons" class="visible-xs">
    <span id="zoomBtn" class="roundBtn glyphicon glyphicon-screenshot" aria-hidden="true"></span>

    <span id="showSideBarBtn" class="roundBtn roundBtnBlue glyphicon glyphicon-th-list" aria-hidden="true" onclick="showSideBar()"></span>
</div>

<div id="sideBar" class="col-xs-12 col-sm-4 hidden-xs">
    <h1><span id="showMapBtn" style="display:none" onclick="showMap()">< </span>Friends Tracker</h1>

    <h3 id="userName"></h3>

    <div id="friendList" style="overflow-x:hidden">
        <table class="table">
            @for (var i = 1; i < 21; i++)
            {
                <tr>
                    <td>Friend @i</td>
                </tr>
            }
        </table>
    </div>

    <table id="logOutBtn" class="table">
        <tr>
            <td>Log Out</td>
        </tr>
    </table>
</div>

<script>
    function showSideBar() {
        $("#googleMap").hide();

        $("#buttons").removeClass("visible-xs");
        $("#buttons").hide();

        $("#sideBar").removeClass("hidden-xs");

        $("#showMapBtn").show();
    }

    function showMap() {
        $("#sideBar").addClass("hidden-xs");

        $("#showMapBtn").hide();

        $("#googleMap").show();

        $("#buttons").addClass("visible-xs");
        $("#buttons").show();
    }
</script>

@section scripts {
<script src="~/Scripts/jquery.signalR-2.1.2.min.js"></script>
<!--Reference the autogenerated SignalR hub script. -->
<script src="~/signalr/hubs"></script>
<script>
    $(function () {
        console.log("Start initializing");

        //Initializing Facebook autentication
        $.getScript("/Scripts/Initializers/FacebookInitializer.js", function () {
            window.fbAsyncInit();
        });
    });
</script>
}

@section mapInitializationSrcipts {
<style>
    .scrollFix {
        line-height: 1.35;
        overflow: hidden;
        white-space: nowrap;
    }
</style>

<script>
    function initialize() {

        var pos = new google.maps.LatLng(49.195102, 16.608087);


        var mapProp = {
            center: pos,
            zoom: 5,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        window.map = new google.maps.Map(document.getElementById("googleMap")
            , mapProp);

        map.setCenter(pos);

        var infowindow = new google.maps.InfoWindow({
            content: '<div class="scrollFix">' + $('#displayname').val() + '</div>',

        });


        console.log("Map was initialized");
    }
</script>
}

@section googleMapSourceScript {
<script src="http://maps.googleapis.com/maps/api/js?key=AIzaSyDzPfjG3MX3RdE1ePdO73UMQUImPsjgZMU&sensor=true&callback=initialize"> </script>
}
